import{P as d}from"./postService-amnQ2oWy.js";import{b as l}from"./app-L8FS1TIH.js";import"./headers-BH8MPi27.js";class m{constructor(e){this.containerId=e,this.container=null}async init(e){if(console.log("Initializing PostsRenderer..."),this.container=document.getElementById(this.containerId),!this.container){console.error(`Container with ID "${this.containerId}" not found.`);return}console.log("homeContainer found:",this.container);try{const t=await e(),n=t?.data||t;n.length>0?this.renderPosts(n):this.renderMessage("No posts available.")}catch(t){this.renderMessage(`Error loading posts: ${t.message}`),console.error("Error fetching posts:",t)}}renderPosts(e){console.log("Rendering posts:",e),this.container.innerHTML="";const t=document.createElement("div");t.className="post-list",e.forEach(n=>{console.log("Rendering post:",n);const o=this.createPostElement(n);t.appendChild(o)}),this.container.appendChild(t)}createPostElement(e){const t=document.createElement("div");if(t.className="post-card",e.media?.url){const s=document.createElement("img");s.src=e.media.url,s.alt=e.media.alt||"Post Image",s.className="post-image",t.appendChild(s)}const n=document.createElement("div");n.className="post-content";const o=document.createElement("h3");o.textContent=e.title||"Untitled Post",o.addEventListener("click",()=>{window.location.href=`${l}/post/?id=${e.id}`});const r=document.createElement("p");r.textContent=e.body&&e.body.length>100?`${e.body.substring(0,100)}...`:e.body||"No content available.";const i=document.createElement("div");return i.className="tags",i.textContent=`Tags: ${e.tags?.join(", ")||"No tags"}`,n.appendChild(o),n.appendChild(r),n.appendChild(i),t.appendChild(n),t}renderMessage(e){this.container.innerHTML=`<p>${e}</p>`}}function c(){const a=new d,e=new m("homeContainer");console.log("Fetching from PostService..."),e.init(async()=>await a.readPosts(10,1))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{c()}):c();
